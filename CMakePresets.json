{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 25,
    "patch": 0
  },

  "configurePresets": [
    {
      "name": "msvc",
      "displayName": "MSVC (VS 2022)",
      "generator": "Visual Studio 17 2022",
      "binaryDir": "${sourceDir}/build/msvc",
      "architecture": { "value": "x64" },
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/external/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_TARGET_TRIPLET": "x64-windows"
      }
    },
    {
      "name": "gcc",
      "displayName": "MSYS2 MinGW GCC (Ninja Multi-Config)",
      "generator": "Ninja Multi-Config",
      "binaryDir": "${sourceDir}/build/gcc",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/external/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_TARGET_TRIPLET": "x64-mingw-static",
        "VCPKG_HOST_TRIPLET": "x64-mingw-static",
        "CMAKE_C_COMPILER": "C:/msys64/mingw64/bin/gcc.exe",
        "CMAKE_CXX_COMPILER": "C:/msys64/mingw64/bin/g++.exe",
        "CMAKE_CXX_FLAGS": "-fdiagnostics-color=always",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON"
      }
    },
    {
      "name": "clang",
      "displayName": "LLVM Clang (MSVC ABI, Ninja Multi-Config)",
      "generator": "Ninja Multi-Config",
      "binaryDir": "${sourceDir}/build/clang",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/external/vcpkg/scripts/buildsystems/vcpkg.cmake",
        "VCPKG_TARGET_TRIPLET": "x64-windows",
        "CMAKE_C_COMPILER": "C:/Program Files/LLVM/bin/clang.exe",
        "CMAKE_CXX_COMPILER": "C:/Program Files/LLVM/bin/clang++.exe",
        "CMAKE_CXX_FLAGS": "-fdiagnostics-color=always",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON"
      }
    }
  ],

  "buildPresets": [
    { "name": "msvc-Debug",             "configurePreset": "msvc",     "configuration": "Debug" },
    { "name": "msvc-Release",           "configurePreset": "msvc",     "configuration": "Release" },
    { "name": "msvc-RelWithDebInfo",    "configurePreset": "msvc",     "configuration": "RelWithDebInfo" },

    { "name": "gcc-Debug",              "configurePreset": "gcc",      "configuration": "Debug" },
    { "name": "gcc-Release",            "configurePreset": "gcc",      "configuration": "Release" },
    { "name": "gcc-RelWithDebInfo",     "configurePreset": "gcc",      "configuration": "RelWithDebInfo" },

    { "name": "clang-Debug",            "configurePreset": "clang",    "configuration": "Debug" },
    { "name": "clang-Release",          "configurePreset": "clang",    "configuration": "Release" },
    { "name": "clang-RelWithDebInfo",   "configurePreset": "clang",    "configuration": "RelWithDebInfo" }
  ],

  "testPresets": [
    { "name": "msvc-tests",    "configurePreset": "msvc",    "configuration": "Debug" },
    { "name": "gcc-tests",     "configurePreset": "gcc",     "configuration": "Debug" },
    { "name": "clang-tests",   "configurePreset": "clang",   "configuration": "Debug" }
  ]
}
